limit = 1,
offset = 0,
include_external = NULL,
authorization = get_spotify_access_token(),
include_meta_info = FALSE
)
new_row <- data.frame(artist = artist, name = result$name, id = result$id, pop = result$popularity, followers = result$followers.total)
artist_id_pop <- rbind(artist_id_pop, new_row)
}
View(artist_id_pop)
artist_id_pop <- data.frame()
for (artist in rs_ranking$artist){
q <- artist
print(q)
result <- search_spotify(
q,
type = "artist",
market = NULL,
limit = 1,
offset = 0,
include_external = NULL,
authorization = get_spotify_access_token(),
include_meta_info = FALSE
)
new_row <- data.frame(artist = artist, name = result$name, id = result$id, pop = result$popularity, followers = result$followers.total)
artist_id_pop <- rbind(artist_id_pop, new_row)
}
View(artist_id_pop)
View(artist_id_pop)
write.csv(artist_id_pop, file = "artist_id_pop.csv", row.names = FALSE)
readRenviron("api.env")
client_id <- Sys.getenv("SPOTIFY_CLIENT_ID")
client_secret <- Sys.getenv("SPOTIFY_CLIENT_SECRET")
access_token <- get_spotify_access_token(client_id, client_secret)
library(spotifyr)
library("jsonlite")
access_token <- get_spotify_access_token(client_id, client_secret)
rs_ranking <- read.csv("rs_ranking.csv")
rs_ranking$artist[1]
artist_id_pop <- data.frame()
for (artist in rs_ranking$artist){
q <- artist
print(q)
result <- search_spotify(
q,
type = "artist",
market = NULL,
limit = 1,
offset = 0,
include_external = NULL,
authorization = get_spotify_access_token(),
include_meta_info = FALSE
)
new_row <- data.frame(artist = artist, name = result$name, id = result$id, pop = result$popularity, followers = result$followers.total)
artist_id_pop <- rbind(artist_id_pop, new_row)
}
View(artist_id_pop)
print(artist)
for (artist in artist_id_pop){
print(artist)
}
for (i in lentgth(artist_id_pop$artist)){
print(artist_id_pop)
}
length(artist_id_pop)
length(artist_id_pop$artist)
for (i in range(lentgth(artist_id_pop$artist))){
print(artist_id_pop)
}
for (i in range(length(artist_id_pop$artist))){
print(artist_id_pop)
}
print(artist_id_pop[1])
for (i in range(length(artist_id_pop$artist))){
print(artist_id_pop[i])
}
for (i in range(length(artist_id_pop$artist))){
print(artist_id_pop[i])
}
View(artist_id_pop)
for (artist in rs_ranking$artist){
q <- artist
print(q)
result <- search_spotify(
q,
type = "artist",
market = NULL,
limit = 1,
offset = 0,
include_external = NULL,
authorization = access_token,
include_meta_info = FALSE
)
new_row <- data.frame(artist = artist, spotify_name = result$name, id = result$id, pop = result$popularity, followers = result$followers.total)
artist_id_pop <- rbind(artist_id_pop, new_row)
}
artist_id_pop <- data.frame()
for (artist in rs_ranking$artist){
q <- artist
print(q)
result <- search_spotify(
q,
type = "artist",
market = NULL,
limit = 1,
offset = 0,
include_external = NULL,
authorization = access_token,
include_meta_info = FALSE
)
new_row <- data.frame(artist = artist, spotify_name = result$name, id = result$id, pop = result$popularity, followers = result$followers.total)
artist_id_pop <- rbind(artist_id_pop, new_row)
}
for (i in range(length(artist_id_pop$artist))){
if (artist_id_pop$spotify_name != artist_id_pop$artist){
print(paste("differente name on line", i))
print(paste(artist_id_pop$spotify_name, artist_id_pop$artist))
}
}
range(1, 5)
range(100, 5)
for (i in length(artist_id_pop$artist)){
if (artist_id_pop$spotify_name != artist_id_pop$artist){
print(paste("differente name on line", i))
print(paste(artist_id_pop$spotify_name, artist_id_pop$artist))
}
}
for (i in 1:nrow(artist_id_pop$artist)){
if (artist_id_pop$spotify_name != artist_id_pop$artist){
print(paste("differente name on line", i))
print(paste(artist_id_pop$spotify_name, artist_id_pop$artist))
}
}
1:nrow(artist_id_pop$artist)
nrow(artist_id_pop
nrow(artist_id_pop)
1:nrow(artist_id_pop)
for (i in 1:nrow(artist_id_pop)){
if (artist_id_pop$spotify_name != artist_id_pop$artist){
print(paste("differente name on line", i))
print(paste(artist_id_pop$spotify_name, artist_id_pop$artist))
}
}
artist_id_pop$spotify_name
artist_id_pop$artist
artist_id_pop$spotify_name != artist_id_pop$artist
for (i in 1:nrow(artist_id_pop)){
if (artist_id_pop$spotify_name[i] != artist_id_pop$artist[i]){
print(paste("differente name on line", i))
print(paste(artist_id_pop$spotify_name, artist_id_pop$artist))
}
}
for (i in 1:nrow(artist_id_pop)){
if (artist_id_pop$spotify_name[i] != artist_id_pop$artist[i]){
print(paste("differente name on line", i))
print(paste(artist_id_pop$spotify_name, artist_id_pop$artist))
}
}
for (i in 1:nrow(artist_id_pop)){
print(artist_id_pop$spotify_name[i])
#if (artist_id_pop$spotify_name[i] != artist_id_pop$artist[i]){
#  print(paste("differente name on line", i))
#  print(paste(artist_id_pop$spotify_name, artist_id_pop$artist))
}
for (i in 1:nrow(artist_id_pop)){
print(artist_id_pop$spotify_name[i])
print(artist_id_pop$artist[i])
#if (artist_id_pop$spotify_name[i] != artist_id_pop$artist[i]){
#  print(paste("differente name on line", i))
#  print(paste(artist_id_pop$spotify_name, artist_id_pop$artist))
}
for (i in 1:nrow(artist_id_pop)){
if (artist_id_pop$spotify_name[i] != artist_id_pop$artist[i]){
print("FALSE")
#  print(paste("different name on line", i))
#  print(paste(artist_id_pop$spotify_name, artist_id_pop$artist))
}
}
for (i in 1:nrow(artist_id_pop)){
if (artist_id_pop$spotify_name[i] != artist_id_pop$artist[i]){
print(paste("different name on line", i))
#  print(paste(artist_id_pop$spotify_name, artist_id_pop$artist))
}
}
for (i in 1:nrow(artist_id_pop)){
if (artist_id_pop$spotify_name[i] != artist_id_pop$artist[i]){
print(paste("different name on line", i))
print(paste(artist_id_pop$spotify_name[i], artist_id_pop$artist[i]))
}
}
#Checking for different names
for (i in 1:nrow(artist_id_pop)){
if (artist_id_pop$spotify_name[i] != artist_id_pop$artist[i]){
print(paste("different name on line", i))
print(paste("1 -",artist_id_pop$spotify_name[i]))
print(paste("2 -",artist_id_pop$artist[i]))
}
}
View(artist_id_pop)
write.csv(artist_id_pop, file = "artist_id_pop.csv", row.names = FALSE)
q <- artist_id_pop$artist[43]
print(q)
result <- search_spotify(
q,
type = "artist",
market = NULL,
limit = 20,
offset = 0,
include_external = NULL,
authorization = access_token,
include_meta_info = FALSE
)
result
View(result)
q <- artist_id_pop$artist[43]
result <- search_spotify(
q,
type = "artist",
market = NULL,
limit = 20,
offset = 0,
include_external = NULL,
authorization = access_token,
include_meta_info = FALSE
)
result <- search_spotify(
q,
type = "artist",
market = NULL,
limit = 20,
offset = 0,
include_external = NULL,
authorization = get_spotify_access_token(),
include_meta_info = FALSE
)
readRenviron("api.env")
client_id <- Sys.getenv("SPOTIFY_CLIENT_ID")
client_secret <- Sys.getenv("SPOTIFY_CLIENT_SECRET")
rs_ranking <- read.csv("artist_id_pop.csv")
View(rs_ranking)
result <- search_spotify(
q,
type = "artist",
market = NULL,
limit = 20,
offset = 0,
include_external = NULL,
authorization = get_spotify_access_token(),
include_meta_info = FALSE
)
library(spotifyr)
library("jsonlite")
result <- search_spotify(
q,
type = "artist",
market = NULL,
limit = 20,
offset = 0,
include_external = NULL,
authorization = get_spotify_access_token(),
include_meta_info = FALSE
)
q <- artist_id_pop$artist[43]
rs_ranking <- read.csv("rs_ranking.csv")
artist_id_pop <- read.csv("artist_id_pop.csv")
q <- artist_id_pop$artist[43]
print(q)
result <- search_spotify(
q,
type = "artist",
market = NULL,
limit = 20,
offset = 0,
include_external = NULL,
authorization = get_spotify_access_token(),
include_meta_info = FALSE
)
result <- search_spotify(
q,
type = "artist",
market = NULL,
limit = 20,
offset = 0,
include_external = NULL,
authorization = get_spotify_access_token(),
include_meta_info = FALSE
)
View(result)
View(artist_id_pop)
View(result)
View(result)
result$
result[result$name == "Parliament" | result$name == "Parliament" ]
result$
result[result$name == "Parliament" | result$name == "Parliament" ]
result$
result[(result$name == "Parliament" | result$name == "Parliament")]
result[(result$name == "Parliament" | result$name == "Parliament")]
result$name == "Parliament"
result[(result$name == "Parliament" )| (result$name == "Parliament")]
result[(result['name'] == "Parliament") | (result['name'] == "Parliament")]
result.loc[(result$name == "Parliament" )| (result$name == "Parliament")]
result.loc[(result$name == "Parliament" )| (result$name == "Parliament")]
subset(result, name == "Parliament")
parliament <- subset(result, name == "Parliament")
View(parliament)
parliament <- subset(result, name == ("Parliament" | "Funkadelic"))
parliament <- subset(result, name %in% c("Parliament", "Funkadelic"))
View(parliament)
View(artist_id_pop)
cols(artist_id_pop)
colnames(artist_id_pop)
par_fun <- artist_id_pop$artist[43]
new_rows <- data.frame(artist = par_fun,
spotify_name = result$name,
id = result$id,
pop = result$popularity,
followers = result$followers.total)
View(new_rows)
result_par_fun <- subset(result, name %in% c("Parliament", "Funkadelic"))
new_rows <- data.frame(artist = par_fun,
spotify_name = result$name,
id = result$id,
pop = result$popularity,
followers = result$followers.total)
result_par_fun <- subset(result, name %in% c("Parliament", "Funkadelic"))
new_rows <- data.frame(artist = par_fun,
spotify_name = result$name,
id = result$id,
pop = result$popularity,
followers = result$followers.total)
new_rows <- data.frame()
new_rows <- data.frame(artist = par_fun,
spotify_name = result$name,
id = result$id,
pop = result$popularity,
followers = result$followers.total)
View(new_rows)
new_rows <- data.frame(artist = par_fun,
spotify_name = result_par_fun$name,
id = result_par_fun$id,
pop = result_par_fun$popularity,
followers = result_par_fun$followers.total)
artist_id_pop <- rbind(artist_id_pop, new_rows)
View(artist_id_pop)
artist_id_pop <- artist_id_pop %>% select(-43)
artist_id_pop <- artist_id_pop %>% filter(name != par_fun)
artist_id_pop <- artist_id_pop %>% filter(artist != par_fun)
artist_id_pop <- artist_id_pop %>% filter("artist" != par_fun)
artist_id_pop %>% filter("artist" != par_fun)
artist_id_pop <- read.csv("artist_id_pop.csv")
View(artist_id_pop)
artist_id_pop %>% filter("artist" != par_fun)
artist_id_pop %>% filter(artist != par_fun)
filter(artist_id_pop, artist != par_fun)
for (i in 1:nrow(artist_id_pop)){
if (artist_id_pop$spotify_name[i] != artist_id_pop$artist[i]){
print(paste("different name on line", i))
print(paste("1 -",artist_id_pop$spotify_name[i]))
print(paste("2 -",artist_id_pop$artist[i]))
}
}
hank_wil <- artist_id_pop$artist[27]
print(q)
hank_wil <- artist_id_pop$artist[27]
#getting Hank Williams info
q <- artist_id_pop$artist[27]
print(q)
result <- search_spotify(
q,
type = "artist",
market = NULL,
limit = 20,
offset = 0,
include_external = NULL,
authorization = get_spotify_access_token(),
include_meta_info = FALSE
)
View(result)
artist_id_pop <- filter(artist_id_pop, artist != par_fun)
colnames(artist_id_pop)
artist_id_pop <- filter(artist_id_pop, artist != par_fun)
artist_id_pop <- filter(artist_id_pop, artist!=par_fun)
artist_id_pop <- filter(artist_id_pop, artist_id_pop$artist!=par_fun)
artist_id_pop <- filter(artist_id_pop, artist_id_pop$artist != par_fun)
subset(artist_id_pop, artist != par_fun)
artist_id_pop <- read.csv("artist_id_pop.csv")
subset(artist_id_pop, artist != par_fun)
artist_id_pop <- subset(artist_id_pop, artist != par_fun)
artist_id_pop <- rbind(artist_id_pop, new_rows)
#getting Hank Williams info
result <- search_spotify(
hank_wil,
type = "artist",
market = NULL,
limit = 20,
offset = 0,
include_external = NULL,
authorization = get_spotify_access_token(),
include_meta_info = FALSE
)
result_hank_wil <- subset(result, name = Hank Williams)
result_hank_wil <- subset(result, name = "Hank Williams")
View(result_hank_wil)
result_hank_wil <- subset(result, name == "Hank Williams")
View(result_hank_wil)
new_row <- data.frame(artist = hank_wil,
spotify_name = result_par_fun$name,
id = result_par_fun$id,
pop = result_par_fun$popularity,
followers = result_par_fun$followers.total)
result_hank_wil <- subset(result, id == "1FClsNYBUoNFtGgzeG74dW")
artist_id_pop <- subset(artist_id_pop, artist != hank_wil)
artist_id_pop <- rbind(artist_id_pop, new_row)
View(artist_id_pop)
artist_id_pop <- read.csv("artist_id_pop.csv")
#Checking for different names
for (i in 1:nrow(artist_id_pop)){
if (artist_id_pop$spotify_name[i] != artist_id_pop$artist[i]){
print(paste("different name on index", i))
print(paste("1 -",artist_id_pop$spotify_name[i]))
print(paste("2 -",artist_id_pop$artist[i]))
}
}
par_fun <- artist_id_pop$artist[43]
hank_wil <- artist_id_pop$artist[27]
result <- search_spotify(
par_fun,
type = "artist",
market = NULL,
limit = 20,
offset = 0,
include_external = NULL,
authorization = get_spotify_access_token(),
include_meta_info = FALSE
)
result_par_fun <- subset(result, name %in% c("Parliament", "Funkadelic"))
new_rows <- data.frame(artist = par_fun,
spotify_name = result_par_fun$name,
id = result_par_fun$id,
pop = result_par_fun$popularity,
followers = result_par_fun$followers.total)
artist_id_pop <- subset(artist_id_pop, artist != par_fun)
artist_id_pop <- rbind(artist_id_pop, new_rows)
#getting Hank Williams info
result <- search_spotify(
hank_wil,
type = "artist",
market = NULL,
limit = 20,
offset = 0,
include_external = NULL,
authorization = get_spotify_access_token(),
include_meta_info = FALSE
)
result_hank_wil <- subset(result, id == "1FClsNYBUoNFtGgzeG74dW")
new_row <- data.frame(artist = hank_wil,
spotify_name = result_hank_wil$name,
id = result_hank_wil$id,
pop = result_hank_wil$popularity,
followers = result_hank_wil$followers.total)
artist_id_pop <- subset(artist_id_pop, artist != hank_wil)
artist_id_pop <- rbind(artist_id_pop, new_row)
View(artist_id_pop)
id <- list()
id <- ()
id <- ()
id <- (NULL)
id <- c("")
id_list <- c("")
for (id in artist_id_pop$id){
id_list <- c(id_list, id)
}
id_list
for (i in 1:nrow(artist_id_pop)){
id_list <- c(id_list, artist_id_pop$id[i])
if (length(id_list) == 50 | i == nrow(artist_id_pop)){
artist_new_info <- get_artists(
ids,
authorization = get_spotify_access_token(),
include_meta_info = FALSE
)
artist_info <- rbind(artist_new_info, new_row)
}
}
for (i in 1:nrow(artist_id_pop)){
id_list <- c(id_list, artist_id_pop$id[i])
if (length(id_list) == 50 | i == nrow(artist_id_pop)){
artist_new_info <- get_artists(
id_list,
authorization = get_spotify_access_token(),
include_meta_info = FALSE
)
artist_info <- rbind(artist_new_info, new_row)
}
}
id_list <- c("")
artist_info <- data.frame()
access_token <- get_spotify_access_token()
for (i in 1:nrow(artist_id_pop)){
id_list <- c(id_list, artist_id_pop$id[i])
if (length(id_list) == 50 | i == nrow(artist_id_pop)){
artist_new_info <- get_artists(
id_list,
authorization = access_token,
include_meta_info = FALSE
)
artist_info <- rbind(artist_new_info, new_row)
}
}
View(artist_new_info)
View(artist_id_pop)
